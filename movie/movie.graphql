type Movie {
  id: ID!
  title: String!
  rating: Float!
  director: String!
  actors: [Actor!]!
}

type Actor {
  id: ID!
  firstname: String!
  lastname: String!
  birthyear: Int!
  films: [Movie!]!
}

input MovieInput {
  title: String!
  director: String!
  rating: Float
}

input MovieUpdateInput {
  title: String
  director: String
  rating: Float
}

type Query {
  movies(id: ID, title: String, director: String): [Movie!]!
  movie(id: ID!): Movie

  actors: [Actor!]!
  actor(id: ID!): Actor

  moviesByActor(actorId: ID!): [Movie!]!
  actorsByMovie(movieId: ID!): [Actor!]!
  topRatedMovies(limit: Int!): [Movie!]!
}

type Mutation {
  createMovie(input: MovieInput!): Movie!
  updateMovie(id: ID!, input: MovieUpdateInput!): Movie!
  updateMovieRating(id: ID!, rating: Float!): Movie!
  deleteMovie(id: ID!): Movie!
  deleteMovieSafe(id: ID!): Movie!

  addFilmToActor(actorId: ID!, movieId: ID!): Actor!
  removeFilmFromActor(actorId: ID!, movieId: ID!): Actor!

  createActor(
    id: ID!
    firstname: String!
    lastname: String!
    birthyear: Int!
    films: [ID!]!
  ): Actor!

  deleteActor(id: ID!): Actor!
}
